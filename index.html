<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HTML Canvas Video</title>
  </head>
  <body>
    <section id="vid">
      <video id="player" muted controls>
        <source src="./new.mp4" type="video/mp4" />
      </video>
    </section>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        let player = document.getElementById("player");
        player.addEventListener("canplay", (ev) => {
          console.log("canplay", ev.target.videoWidth, ev.target.videoHeight);
          console.log(ev.target.clientWidth, ev.target.clientHeight);
          console.log(
            ev.target.currentSrc,
            ev.target.duration,
            ev.target.currentTime
          );
        });

        player.addEventListener("canplaythrough", (ev) => {
          //this is our own autoplay
          console.log("Enough loaded to play through whole video");
          player.play();
        });

        player.addEventListener("load", (ev) => {
          //video has loaded entirely
          console.log("video loaded");
        });

        player.addEventListener("error", (err) => {
          console.log("Failed to load video", err.message);
        });
      });
    </script>
  </body>
</html>
<html>
  <head>
    <script src="/js/prebid-ads.js"></script>
  </head>
  <body>
    <script>

      if (window.canRunAds === undefined) {
        // adblocker detected, show fallback
        console.log("on");
        showFallbackImage();
      }
    </script>
  </body>
</html>
